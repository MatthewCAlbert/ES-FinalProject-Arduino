#include "WebHTML.h"

String getHtml()
{
  return "<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><title>ES VIM Simple Controller</title><style>body,html{margin:0;padding:0;font-family:sans-serif}#container{display:flex;justify-content:flex-start;text-align:center;flex-direction:column;min-height:100vh;width:100%}.btn-container{margin-top:20px}.btn{font-size:1.5rem;display:block;cursor:pointer;margin:10px auto}p{margin:0}</style></head><body><div id=\"container\"><h1>ES VIM Simple Controller</h1><div><h2>Status</h2><p>Signal: Motor (<span id=\"motorRssi\"></span>dBm) | Sensor(<span id=\"sensorRssi\"></span>dBm)</p><p>Current Status:<b><span id=\"motorStatus\"></span></b></p><p>Mode:<b><span id=\"overrideStatus\"></span></b></p><p>Temperature:<b><span id=\"temperature\"></span>C</b></p><p>Humidity:<b><span id=\"humidity\"></span>%RH</b></p></div><div class=\"btn-container\"><button class=\"btn\" onclick=\'setStatus(\"open\")\'>OPEN</button><button class=\"btn\" onclick=\'setStatus(\"close\")\'>CLOSE</button><button class=\"btn\" onclick=\'setStatus(\"auto\")\'>AUTO</button></div></div><script>\nfunction setStatus(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){4==this.readyState&&200==this.status&&alert(\"Command sent\")},t.open(\"GET\",\"/motor/set/\"+e,!0),t.send()}function getNewStatus(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){let e=JSON.parse(this.responseText);document.getElementById(\"motorStatus\").innerHTML=e.status,document.getElementById(\"overrideStatus\").innerHTML=e.override?\"Manual\":\"Auto\",document.getElementById(\"motorRssi\").innerHTML=e.motorRssi,document.getElementById(\"sensorRssi\").innerHTML=e.sensorRssi,document.getElementById(\"temperature\").innerHTML=e.sensor.temperature,document.getElementById(\"humidity\").innerHTML=e.sensor.humidity}},e.open(\"GET\",\"/pinfo\",!0),e.send()}var ajaxCheck=setInterval(getNewStatus,5e3);\n</script></body></html>";
}